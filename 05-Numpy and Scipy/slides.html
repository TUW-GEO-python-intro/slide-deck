<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Numpy and Scipy Packages</title>
<meta name="author" content="(author)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="../reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="../reveal.js/css/theme/black.css" id="theme"/>

<link rel="stylesheet" href="../code_formatting.css"/>

<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = '../reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide" data-background="" data-background-size="" data-background-repeat="" data-background-transition=""><h1>Numpy and Scipy Packages</h1>
</section>

<section>
<section id="slide-org8f7502f">
<h2 id="org8f7502f">Numpy</h2>
<ul>
<li>The <a href="http://www.numpy.org">numpy package</a> is used in almost all numerical computations using Python</li>
<li>Provides high-performance vector, matrix and higher-dimensional data
structures</li>
<li>Fast array, vector and matrix calculations, implemented in C and Fortran</li>

</ul>

<p>
To use numpy you need to import the module
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">import</span> numpy <span style="color: #fff59d;">as</span> np 
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span><span style="color: #9ccc65;">"Numpy version {:}"</span>.<span style="color: #ff8A65;">format</span><span style="color: #2196F3;">(</span>np.__version__<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
Numpy version 1.11.0
</pre>
</section>
</section>
<section>
<section id="slide-org86e64e4">
<h2 id="org86e64e4">Getting started</h2>
<ul>
<li><a href="http://www.scipy.org/scipylib/download.html">Getting Numpy</a></li>
<li><a href="http://docs.scipy.org/doc/">Numpy and scipy documentation page</a></li>
<li><a href="http://www.scipy.org/Tentative_NumPy_Tutorial">Numpy tutorial</a></li>
<li><a href="http://www.scipy.org/NumPy_for_Matlab_Users">Numpy for MATLAB Users</a></li>
<li><a href="http://www.scipy.org/Numpy_Functions_by_Category">Numpy functions by category</a></li>

</ul>
</section>
</section>
<section>
<section id="slide-orga914625">
<h2 id="orga914625">Creating Numpy arrays</h2>
<p>
There are a number of ways to initialize new numpy arrays, for example from
</p>
<ul>
<li>a Python list or tuples</li>
<li>using functions that are dedicated to generating Numpy arrays, such as
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html">np.arange</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.linspace.html">np.linspace</a>, etc.</li>
<li>reading data from files</li>

</ul>
</section>
<section id="slide-org6609393">
<h3 id="org6609393">From lists</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">a vector: the argument to the function is a Python list</span>
<span style="color: #ffcc80;">v</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">4</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [1 2 3 4]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">a matrix: the argument to the function is a nested Python list</span>
<span style="color: #ffcc80;">M</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">2</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">4</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>M<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [[1 2]
 [3 4]]
</pre>

</section>
<section id="slide-orga0816a7">
<h4 id="orga0816a7">Difference between v and M</h4>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span><span style="color: #ff8A65;">type</span><span style="color: #2196F3;">(</span>v<span style="color: #2196F3;">)</span>, <span style="color: #ff8A65;">type</span><span style="color: #2196F3;">(</span>M<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
(&lt;type 'numpy.ndarray'&gt;, &lt;type 'numpy.ndarray'&gt;)
</pre>
<p>
The difference between the v and M arrays is only their shapes. The information
about the shape of an array by using the <code>ndarray.shape</code> property.
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v.shape, M.shape<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
((4,), (2, 2))
</pre>
</section>
<section id="slide-org7b2a36a">
<h4 id="org7b2a36a">Numpy array vs. lists</h4>
<p>
So far the <code>numpy.ndarray</code> looks similar to a Python list (or nested
list). Why do we need numpy arrays?
</p>

<ul>
<li>Python lists are very general. Each element can be any kind of object.</li>
<li>General is also slow.</li>
<li>Numpy arrays have one fixed type set during initialization.</li>
<li>They are memory efficient and element access is fast.</li>

</ul>

</section>
<section id="slide-org09579c0">
<h4 id="org09579c0">Type of an array</h4>
<p>
Using the <code>ndarray.dtype</code> (data type) property, we can see the type of an array:
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v.dtype, M.dtype<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
(dtype('int64'), dtype('int64'))
</pre>

<p>
We get an error if we try to assign a value of an uncastable type to an element
in a Numpy array:
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">M</span><span style="color: #e91e63;">[</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">0</span><span style="color: #e91e63;">]</span> = <span style="color: #9ccc65;">"hello"</span>
</pre>
</div>

<pre class="example">
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ValueError: invalid literal for long() with base 10: 'hello'
</pre>
</section>
<section id="slide-org87a774a">
<h4 id="org87a774a">dtypes are enforced</h4>
<p>
The type defined at the initialization won't be changed automatically.
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">M</span><span style="color: #e91e63;">[</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">0</span><span style="color: #e91e63;">]</span> = <span style="color: #9ccc65;">1</span>.<span style="color: #9ccc65;">2345</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>M<span style="color: #2196F3;">[</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">0</span><span style="color: #2196F3;">]</span>, M.dtype<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
(1, dtype('int64'))
</pre>

<p>
However, the data type can be changed later if it is desired (e.g. using <code>numpy.ndarray.astype</code>). 
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = M.astype<span style="color: #e91e63;">(</span>np.float32<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x, x.dtype<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
(array([[ 1.,  2.],
       [ 3.,  4.]], dtype=float32), dtype('float32'))
</pre>
</section>
<section id="slide-orgb3e1c07">
<h4 id="orgb3e1c07">dtypes can be changed</h4>
<p>
If we want, we can explicitly define the data type of the array during creation,
using the <code>dtype</code> keyword argument.
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">M</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">2</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">4</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span>, dtype=np.<span style="color: #ff8A65;">complex</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>M<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[ 1.+0.j  2.+0.j]
 [ 3.+0.j  4.+0.j]]
</pre>

<p>
Common <code>dtypes</code> are:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>np.int8</code></td>
<td class="org-left"><code>np.int16</code></td>
<td class="org-left"><code>np.int32</code></td>
<td class="org-left"><code>np.int64</code></td>
</tr>

<tr>
<td class="org-left"><code>np.uint32</code></td>
<td class="org-left"><code>np.uint64</code></td>
<td class="org-left"><code>np.float32</code></td>
<td class="org-left"><code>np.float64</code></td>
</tr>

<tr>
<td class="org-left"><code>np.bool</code></td>
<td class="org-left"><code>np.object</code></td>
<td class="org-left"><code>np.uint16</code></td>
<td class="org-left"><code>np.complex</code></td>
</tr>
</tbody>
</table>

</section>
<section id="slide-org5e34e2a">
<h3 id="org5e34e2a">Using array-generating functions</h3>
<p>
For larger arrays it is unpractical to initialize the data manually, using
explicit python lists. Instead we can use one of the many functions in Numpy
that generate arrays of different forms. Some of the more common ones are:
</p>

<p>
Ones and Zeros
</p>

<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.empty.html">np.empty</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.zeros.html">np.zeros</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ones.html">np.ones</a>
</p>

<p>
Numerical ranges
</p>

<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html">np.arange</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.linspace.html">np.linspace</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.logspace.html">np.logspace</a>
</p>
</section>
<section id="slide-org19a5c44">
<h3 id="org19a5c44"></h3>
<p>
Random numbers
</p>

<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.random.rand.html">np.random.rand</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.random.randn.html">np.random.randn</a>
</p>

<p>
Building matrices
</p>

<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.identity.html">np.identity</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.diag.html">np.diag</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.tri.html">np.tri</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.tril.html">np.tril</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.triu.htmln">p.triu</a>
</p>

<p>
From existing data
</p>

<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.fromfile.html">np.fromfile</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.fromstring.html">np.fromstring</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.loadtxt.html">np.loadtxt</a>
</p>
</section>
<section id="slide-orge87a3a1">
<h3 id="orge87a3a1">Ones and Zeros</h3>
<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.zeros.html">np.zeros</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.zeros<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">3</span>, dtype=np.<span style="color: #ff8A65;">int</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[0 0 0]
</pre>

<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ones.html">np.ones</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.ones<span style="color: #e91e63;">(</span><span style="color: #2196F3;">(</span><span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">3</span><span style="color: #2196F3;">)</span>, dtype=np.<span style="color: #ff8A65;">float</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[ 1.  1.  1.]
 [ 1.  1.  1.]
 [ 1.  1.  1.]]
</pre>
</section>
<section id="slide-orged60773">
<h3 id="orged60773">Numerical ranges</h3>
<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html">np.arange</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">creates a range, arguments: [start=0], stop, [step=1]</span>
<span style="color: #ffcc80;">x</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span> 
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [0 1 2 3 4 5 6 7 8 9]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">2</span>, -<span style="color: #9ccc65;">1</span>, -<span style="color: #9ccc65;">0</span>.<span style="color: #9ccc65;">5</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[ 2.   1.5  1.   0.5  0.  -0.5]
</pre>
</section>
<section id="slide-orge850c19">
<h3 id="orge850c19"></h3>
<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.linspace.html">np.linspace</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">using linspace, both end points ARE included. [start, stop, n_steps]</span>
<span style="color: #ffcc80;">x</span> = np.linspace<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">10</span>, <span style="color: #9ccc65;">11</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [  0.   1.   2.   3.   4.   5.   6.   7.   8.   9.  10.]
</pre>

<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.logspace.html">np.logspace</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.logspace<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">10</span>, <span style="color: #9ccc65;">11</span>, base=<span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[  1.00000000e+00   1.00000000e+01   1.00000000e+02   1.00000000e+03
   1.00000000e+04   1.00000000e+05   1.00000000e+06   1.00000000e+07
   1.00000000e+08   1.00000000e+09   1.00000000e+10]
</pre>
</section>
<section id="slide-org5c2d28a">
<h3 id="org5c2d28a">Random numbers</h3>
<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.random.rand.html">np.random.rand</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">each element is from the uniform random distribution [0,1]</span>
<span style="color: #ffcc80;">x</span> = np.random.rand<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">5</span>, <span style="color: #9ccc65;">5</span><span style="color: #e91e63;">)</span> 
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [[ 0.47215535  0.27251754  0.05121048  0.08544974  0.81382862]
 [ 0.23058358  0.80483556  0.89060654  0.87348886  0.43790602]
 [ 0.63840717  0.36768173  0.14509201  0.1821502   0.5258744 ]
 [ 0.73406159  0.10927792  0.01798686  0.79958206  0.25066469]
 [ 0.97962274  0.27409317  0.50300234  0.47608284  0.49572095]]
</pre>

<p>
The standard normal distribution is available as <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.randn.html">np.random.randn</a>
</p>
</section>
<section id="slide-org6cb45b3">
<h3 id="org6cb45b3">Building matrices</h3>
<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.diag.html">np.diag</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.diag<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">3</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span> <span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">the diagonal of an otherwise zero matrix</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[1 0 0]
 [0 2 0]
 [0 0 3]]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">y</span> = np.diag<span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[1 2 3]
</pre>
</section>
<section id="slide-org3e0bb04">
<h3 id="org3e0bb04"></h3>
<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.tri.html">np.tri</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">ones at and below the given diagonal and zeros elsewhere</span>
<span style="color: #ffcc80;">x</span> = np.tri<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">3</span><span style="color: #e91e63;">)</span> 
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [[ 1.  0.  0.]
 [ 1.  1.  0.]
 [ 1.  1.  1.]]
</pre>

<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.triu.html">np.triu</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">Upper triangle of an array.</span>
<span style="color: #ffcc80;">x</span> = np.triu<span style="color: #e91e63;">(</span>np.ones<span style="color: #2196F3;">(</span><span style="color: #EF6C00;">(</span><span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">3</span><span style="color: #EF6C00;">)</span><span style="color: #2196F3;">)</span>*<span style="color: #9ccc65;">2</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [[ 2.  2.  2.]
 [ 0.  2.  2.]
 [ 0.  0.  2.]]
</pre>
</section>
<section id="slide-orgada7cba">
<h3 id="orgada7cba">More properties of the numpy arrays</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">M</span> = np.ones<span style="color: #e91e63;">(</span><span style="color: #2196F3;">(</span><span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">3</span><span style="color: #2196F3;">)</span>, dtype=np.uint8<span style="color: #e91e63;">)</span> * <span style="color: #9ccc65;">21</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>M.dtype<span style="color: #e91e63;">)</span>
M.itemsize <span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">bytes per element</span>
</pre>
</div>

<pre class="example">
uint8
1
</pre>

<div class="org-src-container">

<pre  class="src src-python">M.nbytes <span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">number of bytes</span>
</pre>
</div>

<pre class="example">
9
</pre>

<div class="org-src-container">

<pre  class="src src-python">M.ndim <span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">number of dimensions</span>
</pre>
</div>

<pre class="example">
2
</pre>
</section>
</section>
<section>
<section id="slide-org3848046">
<h2 id="org3848046">Manipulating arrays</h2>
<ul>
<li>Basic indexing and slicing</li>
<li>Advanced indexing
<ul>
<li>Index arrays</li>
<li>Boolean index arrays</li>

</ul></li>

</ul>
</section>
<section id="slide-orgb4b222f">
<h3 id="orgb4b222f">Basic indexing</h3>
<p>
Array indexing refers to any use of <code>[]</code> to index array values.
</p>
<ul>
<li>Many options for indexing means great power but also the potential for confusion.</li>

</ul>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">v is a vector, and has only one dimension, taking one index</span>
<span style="color: #ffcc80;">v</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #2196F3;">[</span><span style="color: #9ccc65;">0</span><span style="color: #2196F3;">]</span>, v<span style="color: #2196F3;">[</span>-<span style="color: #9ccc65;">2</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [0 1 2 3 4 5 6 7 8 9]
(0, 8)
</pre>
</section>
<section id="slide-orgb2e5003">
<h3 id="orgb2e5003">Multidimensional indexing</h3>
<p>
Unlike lists and tuples, Numpy arrays support multidimensional indexing. That
means that it is not necessary to first select a subarray and index it again.
</p>
<ul>
<li>For 2D arrays <code>[row, column]</code> instead of <code>[row][column]</code>.</li>

</ul>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">v.shape</span> = <span style="color: #e91e63;">(</span><span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">5</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #e91e63;">)</span>
<span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">v is now a 2 dimensional array, taking two indices </span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #2196F3;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">4</span><span style="color: #2196F3;">]</span>, v<span style="color: #2196F3;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">4</span><span style="color: #2196F3;">]</span>==v<span style="color: #2196F3;">[</span><span style="color: #9ccc65;">1</span><span style="color: #2196F3;">][</span><span style="color: #9ccc65;">4</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[0 1 2 3 4]
 [5 6 7 8 9]]
... (9, True)
</pre>
</section>
<section id="slide-orgf9d5ef1">
<h3 id="orgf9d5ef1">Indexing</h3>
<dl>
<dt>Note</dt><dd>indexing a multidimensional array with fewer indices than dimensions,
returns a subdimensional array.</dd>

</dl>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #2196F3;">[</span><span style="color: #9ccc65;">0</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[0 1 2 3 4]
</pre>

<p>
The same thing can be achieved with using <code>:</code> 
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #2196F3;">[</span><span style="color: #9ccc65;">0</span>, :<span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #2196F3;">[</span>:, <span style="color: #9ccc65;">3</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[0 1 2 3 4]
[3 8]
</pre>
</section>
<section id="slide-org89de44a">
<h3 id="org89de44a">Slicing</h3>
<p>
Slicing syntax like lists and strings <code>[start:stop:step]</code> but for multiple dimensions.
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.dstack<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span>np.zeros<span style="color: #EF6C00;">(</span><span style="color: #9ccc65;">4</span><span style="color: #EF6C00;">)</span>,np.arange<span style="color: #EF6C00;">(</span><span style="color: #9ccc65;">1</span>,<span style="color: #9ccc65;">5</span><span style="color: #EF6C00;">)</span>,
               np.zeros<span style="color: #EF6C00;">(</span><span style="color: #9ccc65;">4</span><span style="color: #EF6C00;">)</span>, np.arange<span style="color: #EF6C00;">(</span><span style="color: #9ccc65;">6</span>,<span style="color: #9ccc65;">10</span><span style="color: #EF6C00;">)</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>.reshape<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">4</span>,<span style="color: #9ccc65;">4</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #2196F3;">[</span>:, ::<span style="color: #9ccc65;">2</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span> <span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">get the zeros</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [[ 0.  1.  0.  6.]
 [ 0.  2.  0.  7.]
 [ 0.  3.  0.  8.]
 [ 0.  4.  0.  9.]]
[[ 0.  0.]
 [ 0.  0.]
 [ 0.  0.]
 [ 0.  0.]]
</pre>

</section>
<section id="slide-orgdf0d56c">
<h3 id="orgdf0d56c">Slicing</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #2196F3;">[</span>:-<span style="color: #9ccc65;">2</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #2196F3;">[</span><span style="color: #9ccc65;">1</span>:<span style="color: #9ccc65;">4</span>:<span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">1</span>:<span style="color: #9ccc65;">4</span>:<span style="color: #9ccc65;">2</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[ 0.  1.  0.  6.]
 [ 0.  2.  0.  7.]
 [ 0.  3.  0.  8.]
 [ 0.  4.  0.  9.]]
[[ 0.  1.  0.  6.]
 [ 0.  2.  0.  7.]]
[[ 2.  7.]
 [ 4.  9.]]
</pre>

</section>
<section id="slide-orga9364bc">
<h3 id="orga9364bc">Views</h3>
<p>
Slices of arrays do not copy the internal array data but produce new
<b>views</b> of the original data.
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">5</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">y</span> = x<span style="color: #e91e63;">[</span>::<span style="color: #9ccc65;">2</span><span style="color: #e91e63;">]</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">y</span><span style="color: #e91e63;">[</span><span style="color: #9ccc65;">0</span><span style="color: #e91e63;">]</span> = <span style="color: #9ccc65;">3</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [0 1 2 3 4]
[0 2 4]
&gt;&gt;&gt; [3 1 2 3 4]
[3 2 4]
</pre>

<p>
Making changes to the view changes the underlying array!
</p>
</section>
<section id="slide-org194bc87">
<h3 id="org194bc87">Advanced indexing</h3>
<p>
Arrays can be indexed with other arrays to select elements into new arrays.
</p>
<ol>
<li>Using index arrays.</li>
<li>Using boolean indexing.</li>

</ol>
<p>
Index arrays are a very powerful tool.
</p>
</section>
<section id="slide-orgb55fa26">
<h3 id="orgb55fa26">Index arrays</h3>
<p>
Indexing an array returns a <b>copy</b> of the original data, not a view.
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">10</span>, <span style="color: #9ccc65;">1</span>, -<span style="color: #9ccc65;">1</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">y</span> = x<span style="color: #e91e63;">[</span>np.arange<span style="color: #2196F3;">(</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">8</span>, <span style="color: #9ccc65;">2</span><span style="color: #2196F3;">)</span><span style="color: #e91e63;">]</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">y</span><span style="color: #e91e63;">[</span><span style="color: #9ccc65;">0</span><span style="color: #e91e63;">]</span> = <span style="color: #9ccc65;">55</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [10  9  8  7  6  5  4  3  2]
[10  8  6  4]
&gt;&gt;&gt; [10  9  8  7  6  5  4  3  2]
[55  8  6  4]
</pre>

</section>
<section id="slide-org5ecf4f7">
<h3 id="org5ecf4f7">Boolean index arrays</h3>
<p>
Boolean index arrays are used to decide for each element if it should be in the
output array. So they must have the same shape as array being indexed.
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">y</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">b</span> = y &gt; <span style="color: #9ccc65;">5</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>b<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #2196F3;">[</span>b<span style="color: #2196F3;">]</span>, y<span style="color: #2196F3;">[</span>y &lt; <span style="color: #9ccc65;">5</span><span style="color: #2196F3;">]</span>, y<span style="color: #2196F3;">[</span><span style="color: #EF6C00;">(</span>y&gt;<span style="color: #9ccc65;">6</span><span style="color: #EF6C00;">)</span> &amp; <span style="color: #EF6C00;">(</span>y!=<span style="color: #9ccc65;">9</span><span style="color: #EF6C00;">)</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [False False False False False False  True  True  True  True]
(array([6, 7, 8, 9]), array([0, 1, 2, 3, 4]), array([7, 8]))
</pre>

</section>
<section id="slide-org41564a7">
<h3 id="org41564a7">Combining index arrays with slices</h3>
<p>
Index arrays may be combined with slices. For example:
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">y</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">64</span><span style="color: #e91e63;">)</span>.reshape<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">8</span>, <span style="color: #9ccc65;">8</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #2196F3;">[</span>np.array<span style="color: #EF6C00;">(</span><span style="color: #B388FF;">[</span><span style="color: #9ccc65;">0</span>,<span style="color: #9ccc65;">2</span>,<span style="color: #9ccc65;">4</span><span style="color: #B388FF;">]</span><span style="color: #EF6C00;">)</span>,<span style="color: #9ccc65;">1</span>:<span style="color: #9ccc65;">3</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[ 0  1  2  3  4  5  6  7]
 [ 8  9 10 11 12 13 14 15]
 [16 17 18 19 20 21 22 23]
 [24 25 26 27 28 29 30 31]
 [32 33 34 35 36 37 38 39]
 [40 41 42 43 44 45 46 47]
 [48 49 50 51 52 53 54 55]
 [56 57 58 59 60 61 62 63]]
[[ 1  2]
 [17 18]
 [33 34]]
</pre>
</section>
<section id="slide-org9248056">
<h3 id="org9248056">Combining boolean indexing and slices</h3>
<p>
Likewise, slicing can be combined with broadcasted boolean indices:
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">b</span> = y &lt; <span style="color: #9ccc65;">13</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #2196F3;">[</span><span style="color: #9ccc65;">1</span>:<span style="color: #9ccc65;">3</span>, b<span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">1</span>, :<span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[ 0  1  2  3  4  5  6  7]
 [ 8  9 10 11 12 13 14 15]
 [16 17 18 19 20 21 22 23]
 [24 25 26 27 28 29 30 31]
 [32 33 34 35 36 37 38 39]
 [40 41 42 43 44 45 46 47]
 [48 49 50 51 52 53 54 55]
 [56 57 58 59 60 61 62 63]]
[[ 8  9 10 11 12]
 [16 17 18 19 20]]
</pre>

</section>
<section id="slide-org145a31b">
<h3 id="org145a31b">Dimension management</h3>
<p>
Array shapes in expressions or assignments must be compatible. The <code>np.newaxis</code>
object adds dimension, <code>np.squeeze</code> removes dimensions of size 1
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">y</span> = np.ones<span style="color: #e91e63;">(</span><span style="color: #2196F3;">(</span><span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">2</span><span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y, y.shape<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #2196F3;">[</span>:,:, np.newaxis<span style="color: #2196F3;">]</span>, y<span style="color: #2196F3;">[</span>:,:, np.newaxis<span style="color: #2196F3;">]</span>.shape<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.squeeze<span style="color: #2196F3;">(</span>y<span style="color: #2196F3;">)</span>, np.squeeze<span style="color: #2196F3;">(</span>y<span style="color: #2196F3;">)</span>.shape<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
(array([[ 1.,  1.],
       [ 1.,  1.]]), (2, 2))
(array([[[ 1.],
        [ 1.]],

       [[ 1.],
        [ 1.]]]), (2, 2, 1))
(array([[ 1.,  1.],
       [ 1.,  1.]]), (2, 2))
</pre>

</section>
</section>
<section>
<section id="slide-org9704af8">
<h2 id="org9704af8">Linear algebra</h2>
<p>
Vectorizing code is the key to writing efficient numerical calculation with
Python/Numpy. That means that as much as possible of a program should be
formulated in terms of matrix and vector operations, like matrix-matrix
multiplication.
</p>
</section>
<section id="slide-orgc583b1e">
<h3 id="orgc583b1e">Scalar-array operations</h3>
<p>
We can use the usual arithmetic operators to multiply, add, subtract, and divide
arrays with scalar numbers.
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">v</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">5</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v * <span style="color: #9ccc65;">2</span>, v + <span style="color: #9ccc65;">3</span>, v / <span style="color: #9ccc65;">2</span>., v - <span style="color: #9ccc65;">5</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
(array([0, 2, 4, 6, 8]), array([3, 4, 5, 6, 7]), array([ 0. ,  0.5,  1. ,  1.5,  2. ]), array([-5, -4, -3, -2, -1]))
</pre>

</section>
<section id="slide-org4bfaf95">
<h3 id="org4bfaf95">Element-wise array-array operations</h3>
<p>
When we add, subtract, multiply and divide arrays with each other, the default
behaviour is element-wise operations:
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">m</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">9</span><span style="color: #e91e63;">)</span>.reshape<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">3</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">v</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">3</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>m * m<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>m ** <span style="color: #9ccc65;">3</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>m * v<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [[ 0  1  4]
 [ 9 16 25]
 [36 49 64]]
[[  0   1   8]
 [ 27  64 125]
 [216 343 512]]
[[ 0  1  4]
 [ 0  4 10]
 [ 0  7 16]]
</pre>

</section>
<section id="slide-org4616f54">
<h3 id="org4616f54">Matrix algebra</h3>
<p>
We can either use the <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.dot.html">np.dot</a> function, which applies a matrix-matrix,
matrix-vector, or inner vector multiplication to its two arguments:
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.dot<span style="color: #2196F3;">(</span>m, v<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[ 5 14 23]
</pre>

<p>
For 2-D arrays it is equivalent to matrix multiplication, and for 1-D arrays to
inner product of vectors.
</p>
</section>
<section id="slide-org9484e39">
<h3 id="org9484e39">Matrix algebra</h3>
<p>
Alternatively, we can cast the array objects to the type <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.matrix.html">np.matrix</a>. This changes
the behavior of the standard arithmetic operators +, -, * to use matrix algebra.
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">M</span> = np.matrix<span style="color: #e91e63;">(</span>m<span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">vec</span> = np.matrix<span style="color: #e91e63;">(</span>v<span style="color: #e91e63;">)</span>.T <span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">make it a column vector</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>M * vec<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [[ 5]
 [14]
 [23]]
</pre>

</section>
<section id="slide-orgebdec86">
<h3 id="orgebdec86">Matrix algebra</h3>
<p>
More examples
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">inner product</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.dot<span style="color: #2196F3;">(</span>v, v<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>vec.T * vec<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
5
[[5]]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">with matrix objects, standard matrix algebra applies</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>vec + M * vec<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[ 5]
 [15]
 [25]]
</pre>

</section>
<section id="slide-orga453c38">
<h3 id="orga453c38">Matrix computations</h3>
<p>
Inverse: <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.inv.html">np.linalg.inv</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">M</span> = np.matrix<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">4</span>, <span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">9</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">11</span>, <span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">3</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">9</span>, <span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">1</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.linalg.inv<span style="color: #2196F3;">(</span>M<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[-0.05035971  0.17985612 -0.08633094]
 [ 0.11510791 -0.55395683  0.62589928]
 [ 0.10791367  0.04316547 -0.10071942]]
</pre>

<p>
Determinant:<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.det.html"> np.linalg.det</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.linalg.det<span style="color: #2196F3;">(</span>M<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
139.0
</pre>

</section>
</section>
<section>
<section id="slide-org04eb4ee">
<h2 id="org04eb4ee">Mathematical functions</h2>
<p>
Exponents and logarithms, trigonometric functions
</p>
<ul>
<li><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.exp.html">np.exp</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.log.html">np.log</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.cos.html">np.cos</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.sin.html">np.sin</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.tan.html">np.tan</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.arcsin.html">np.arcsin</a>, &#x2026;</li>

</ul>

<p>
Linear algebra
</p>
<ul>
<li><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.svd.html">linalg.svd</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.eig.html">linalg.eig</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.qr.html">linalg.qr</a>, &#x2026;</li>

</ul>

<p>
Handling complex numbers
</p>
<ul>
<li><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.real.html">np.real</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.imag.html">np.imag</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.conj.html">np.conj</a>, &#x2026;</li>

</ul>

<p>
Floating functions, and miscellaneous
</p>
<ul>
<li><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.floor.html">np.floor</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ceil.html">np.ceil</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.isnan.html">np.isnan</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.sqrt.html">np.sqrt</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.convolve.html">np.convolve</a>, &#x2026;</li>

</ul>
</section>
</section>
<section>
<section id="slide-orgde4db2e">
<h2 id="orgde4db2e">Data processing</h2>
<p>
Often it is useful to store datasets in Numpy arrays. Numpy provides a number of
functions to calculate statistics of datasets in arrays.
</p>
<ul>
<li><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.mean.html">np.mean</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.std.html">np.std</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.var.html">np.var</a></li>
<li><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.amin.html">np.amin</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.amax.html">np.amax</a></li>
<li><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.sum.html">np.sum</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.prod.html">np.prod</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.cumsum.html">np.cumsum</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.cumprod.html">np.cumprod</a></li>

</ul>
</section>
<section id="slide-org300b8fa">
<h3 id="org300b8fa">Some examples</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.<span style="color: #ff8A65;">sum</span><span style="color: #2196F3;">(</span>x<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
45
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.mean<span style="color: #2196F3;">(</span>x<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
4.5
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.var<span style="color: #2196F3;">(</span>x<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
8.25
</pre>

</section>
</section>
<section>
<section id="slide-org1d767d7">
<h2 id="org1d767d7">Reshaping, resizing and stacking arrays</h2>
<p>
The shape of an Numpy array can be modified without copying the underlaying
data, which makes it a fast operation even for large arrays.
</p>
</section>
<section id="slide-orga377a4d">
<h3 id="orga377a4d">Reshaping</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">24</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">v</span> = np.reshape<span style="color: #e91e63;">(</span>x, <span style="color: #2196F3;">(</span><span style="color: #9ccc65;">4</span>, <span style="color: #9ccc65;">6</span><span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
</pre>

</section>
<section id="slide-orgc181bc7">
<h3 id="orgc181bc7">Resizing</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">v</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">1</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">3</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">x</span> = np.resize<span style="color: #e91e63;">(</span>v, <span style="color: #2196F3;">(</span><span style="color: #9ccc65;">1</span>,<span style="color: #9ccc65;">4</span><span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [[0 1 2 3]]
</pre>

</section>
<section id="slide-org0919ae4">
<h3 id="org0919ae4">Repeating and Stacking</h3>
<p>
Using function <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.repeat.html">np.repeat</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.tile.html">np.tile</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.vstack.html">np.vstack</a>, <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.hstack.html">np.hstack</a>, and <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.concatenate.html">np.concatenate</a> we
can create larger vectors and matrices from smaller ones:
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">v</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">2</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">4</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">repeat each element 3 times</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.repeat<span style="color: #2196F3;">(</span>v, <span style="color: #9ccc65;">3</span><span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
... [1 1 1 2 2 2 3 3 3 4 4 4]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">tile the matrix 3 times </span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.tile<span style="color: #2196F3;">(</span>v, <span style="color: #9ccc65;">3</span><span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[1 2 1 2 1 2]
 [3 4 3 4 3 4]]
</pre>

</section>
<section id="slide-orgb8aae89">
<h3 id="orgb8aae89">Stacking</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">v</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">1</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">3</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">w</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">5</span>, <span style="color: #9ccc65;">6</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.concatenate<span style="color: #2196F3;">(</span><span style="color: #EF6C00;">(</span>v, w<span style="color: #EF6C00;">)</span>, axis=<span style="color: #9ccc65;">0</span><span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [[0 1]
 [2 3]
 [5 6]]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>np.concatenate<span style="color: #2196F3;">(</span><span style="color: #EF6C00;">(</span>v, w.T<span style="color: #EF6C00;">)</span>, axis=<span style="color: #9ccc65;">1</span><span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[0 1 5]
 [2 3 6]]
</pre>

</section>
<section id="slide-org49bd220">
<h3 id="org49bd220">Stacking</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">v</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">1</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">3</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">w</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">5</span>, <span style="color: #9ccc65;">6</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">x</span> = np.vstack<span style="color: #e91e63;">(</span><span style="color: #2196F3;">(</span>v, w<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; [[0 1]
 [2 3]
 [5 6]]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.hstack<span style="color: #e91e63;">(</span><span style="color: #2196F3;">(</span>v, w.T<span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[0 1 5]
 [2 3 6]]
</pre>

</section>
</section>
<section>
<section id="slide-org6533380">
<h2 id="org6533380">Copy array values</h2>
<p>
Assignments in Python usually do not copy the underlaying objects to avoid 
unnecessary memory usage (technical term: pass by reference).
</p>

</section>
<section id="slide-org5f4cb9d">
<h3 id="org5f4cb9d">Without copy</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">A</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">2</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">4</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">now B is referring to the same array data as A </span>
<span style="color: #ffcc80;">B</span> = A 
<span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">changing B affects A</span>
<span style="color: #ffcc80;">B</span><span style="color: #e91e63;">[</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">0</span><span style="color: #e91e63;">]</span> = <span style="color: #9ccc65;">10</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>A<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
... &gt;&gt;&gt; ... &gt;&gt;&gt; [[10  2]
 [ 3  4]]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>B<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[10  2]
 [ 3  4]]
</pre>
</section>
<section id="slide-orgada2230">
<h3 id="orgada2230">Copy</h3>
<p>
To get a new completely independent object B copied from A we can use the
<code>copy</code> function:
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">A</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">2</span><span style="color: #EF6C00;">]</span>, <span style="color: #EF6C00;">[</span><span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">4</span><span style="color: #EF6C00;">]</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">B</span> = A.copy<span style="color: #e91e63;">()</span>
<span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">now, if we modify B, A is not affected</span>
<span style="color: #ffcc80;">B</span><span style="color: #e91e63;">[</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">0</span><span style="color: #e91e63;">]</span> = -<span style="color: #9ccc65;">5</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>A<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; ... &gt;&gt;&gt; [[1 2]
 [3 4]]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>B<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[-5  2]
 [ 3  4]]
</pre>
</section>
</section>
<section>
<section id="slide-orgc0c471d">
<h2 id="orgc0c471d">Iterating over array elements</h2>
<p>
Generally, we want to avoid iterating over the elements of arrays. Iterations
are really slow compared to vectorized operations.
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">v</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #9ccc65;">1</span>,<span style="color: #9ccc65;">2</span>,<span style="color: #9ccc65;">3</span>,<span style="color: #9ccc65;">4</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">for</span> element <span style="color: #fff59d;">in</span> v:
    <span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>element<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
... ... 1
2
3
4
</pre>

</section>
</section>
<section>
<section id="slide-orgf07fd85">
<h2 id="orgf07fd85">Some Numpy functions</h2>
<div class="outline-text-2" id="text-orgf07fd85">
</div></section>
<section id="slide-orgdd13433">
<h3 id="orgdd13433"><code>np.where</code></h3>
<p>
The position index can be found using the <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html">np.where</a> function
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span> + <span style="color: #9ccc65;">20</span>
<span style="color: #ffcc80;">indices</span> = np.where<span style="color: #e91e63;">(</span><span style="color: #2196F3;">(</span>x &gt;= <span style="color: #9ccc65;">22</span><span style="color: #2196F3;">)</span> &amp; <span style="color: #2196F3;">(</span>x &lt; <span style="color: #9ccc65;">27</span><span style="color: #2196F3;">)</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>indices<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; (array([2, 3, 4, 5, 6]),)
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #2196F3;">[</span>indices<span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[22 23 24 25 26]
</pre>

</section>
<section id="slide-orgdb45cf7">
<h3 id="orgdb45cf7"><code>np.where</code> cont.</h3>
<p>
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html">np.where</a> can also be used to choose from  one of two arrays
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span> + <span style="color: #9ccc65;">20</span>
<span style="color: #ffcc80;">y</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">z</span> = np.where<span style="color: #e91e63;">(</span><span style="color: #2196F3;">(</span>x &gt;= <span style="color: #9ccc65;">22</span><span style="color: #2196F3;">)</span> &amp; <span style="color: #2196F3;">(</span>x &lt; <span style="color: #9ccc65;">27</span><span style="color: #2196F3;">)</span>, x, y<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>z<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; [ 0  1 22 23 24 25 26  7  8  9]
</pre>

</section>
<section id="slide-org40af05f">
<h3 id="org40af05f"><code>np.choose</code></h3>
<p>
Constructs an array by picking elements form several arrays using
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.choose.html">np.choose</a>
</p>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">which</span> = <span style="color: #e91e63;">[</span><span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">0</span><span style="color: #e91e63;">]</span>
<span style="color: #ffcc80;">choices</span> = <span style="color: #e91e63;">[</span><span style="color: #2196F3;">[</span>-<span style="color: #9ccc65;">2</span>, -<span style="color: #9ccc65;">2</span>, -<span style="color: #9ccc65;">2</span>, -<span style="color: #9ccc65;">2</span><span style="color: #2196F3;">]</span>, <span style="color: #2196F3;">[</span><span style="color: #9ccc65;">5</span>, <span style="color: #9ccc65;">5</span>, <span style="color: #9ccc65;">5</span>, <span style="color: #9ccc65;">5</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">]</span>
<span style="color: #ffcc80;">x</span> = np.choose<span style="color: #e91e63;">(</span>which, choices<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; [ 5 -2  5 -2]
</pre>

</section>
<section id="slide-org5a38511">
<h3 id="org5a38511"><code>np.take</code></h3>
<p>
Take elements from an array along an axis (for completeness, the function
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.take.html">np.take</a> does the same thing as "fancy" indexing (i.e. indexing arrays using
arrays); however it can be easier to use if you need elements along a given axis.
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">v</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #9ccc65;">4</span>, <span style="color: #9ccc65;">3</span>, <span style="color: #9ccc65;">5</span>, <span style="color: #9ccc65;">7</span>, <span style="color: #9ccc65;">6</span>, <span style="color: #9ccc65;">8</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">indices</span> = np.array<span style="color: #e91e63;">(</span><span style="color: #2196F3;">[</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">1</span>, <span style="color: #9ccc65;">4</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">x</span> = np.take<span style="color: #e91e63;">(</span>v, indices<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>x<span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #2196F3;">[</span>indices<span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; [4 3 6]
[4 3 6]
</pre>

</section>
<section id="slide-org6fc77fa">
<h3 id="org6fc77fa"><code>np.select</code></h3>
<p>
Return an array drawn from elements in choicelist, depending on conditions using
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.select.html">np.select</a>.
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">x</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">condlist</span> = <span style="color: #e91e63;">[</span>x&lt;<span style="color: #9ccc65;">3</span>, x&gt;<span style="color: #9ccc65;">5</span><span style="color: #e91e63;">]</span>
<span style="color: #ffcc80;">choicelist</span> = <span style="color: #e91e63;">[</span>x, x**<span style="color: #9ccc65;">2</span><span style="color: #e91e63;">]</span>
<span style="color: #ffcc80;">v</span> = np.select<span style="color: #e91e63;">(</span>condlist, choicelist, default=<span style="color: #9ccc65;">9999</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>v<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; [   0    1    2 9999 9999 9999   36   49   64   81]
</pre>

</section>
<section id="slide-org7f57b41">
<h3 id="org7f57b41"><code>np.place</code></h3>
<p>
Change elements of an array based on conditional and input values using <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.place.html">np.place</a>.
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #ffcc80;">m</span> = np.arange<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">6</span><span style="color: #e91e63;">)</span>.reshape<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">2</span>, <span style="color: #9ccc65;">3</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>m<span style="color: #e91e63;">)</span>
np.place<span style="color: #e91e63;">(</span>m, m&gt;<span style="color: #9ccc65;">2</span>, <span style="color: #2196F3;">[</span><span style="color: #9ccc65;">4</span>, <span style="color: #9ccc65;">55</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>m<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[[0 1 2]
 [3 4 5]]
&gt;&gt;&gt; [[ 0  1  2]
 [ 4 55  4]]
</pre>

</section>
<section id="slide-org8594788">
<h3 id="org8594788">And many more &#x2026;</h3>
<p>
The <a href="http://docs.scipy.org/doc/numpy/reference/index.html">Numpy reference manual</a> gives details on functions, modules, and objects
included in Numpy, describing what they are and what they do.
</p>
</section>
</section>
<section>
<section id="slide-org5984205">
<h2 id="org5984205">Further Numpy topics</h2>
<ul>
<li><a href="http://docs.scipy.org/doc/numpy/reference/maskedarray.html">Masked arrays</a></li>
<li><a href="http://docs.scipy.org/doc/numpy/user/basics.io.html">Numpy IO</a> (will be covered in another session)</li>
<li><a href="http://docs.scipy.org/doc/numpy/reference/arrays.datetime.html">Datetime and timedeltas</a></li>
<li><a href="http://docs.scipy.org/doc/numpy/reference/routines.polynomials.html">Numpy polynomials functions</a></li>
<li><a href="http://docs.scipy.org/doc/numpy/reference/routines.sort.html">Sorting, searching, counting</a></li>
<li><a href="http://docs.scipy.org/doc/numpy/reference/routines.logic.html">Logic functions</a></li>
<li><a href="http://docs.scipy.org/doc/numpy/reference/routines.statistics.html">More on statistics</a></li>
<li><a href="http://docs.scipy.org/doc/numpy/user/basics.rec.html">Structured arrays</a> (aka "Record arrays")</li>
<li><a href="http://docs.scipy.org/doc/numpy/user/basics.byteswapping.html">Byte-swapping</a></li>
<li><a href="http://docs.scipy.org/doc/numpy/user/basics.subclassing.html">Subclassing ndarray</a></li>
<li>and many <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.var.html">more</a> &#x2026;</li>

</ul>
</section>
</section>
<section>
<section id="slide-orgef1acf2">
<h2 id="orgef1acf2">Scipy</h2>
<p>
<a href="http://docs.scipy.org/doc/">Scipy</a> (Scientific Computing Tools for Python) is a Python-based ecosystem of
open-source software for mathematics, science, and engineering. In particular,
these are some of the core packages:
</p>
<ul>
<li>NumPy</li>
<li>Scipy</li>
<li>Matplotlib</li>
<li>Pandas</li>
<li>SymPy</li>

</ul>
</section>
<section id="slide-org82b9558">
<h3 id="org82b9558">Scipy library</h3>
<p>
The <a href="http://docs.scipy.org/doc/">Scipy library</a> is one of the core packages that make up the Scipy stack. It
provides many <a href="http://docs.scipy.org/doc/scipy/reference/">user-friendly and efficient numerical routines</a> such as routines
for numerical integration and optimization.
</p>
</section>
<section id="slide-org88adb74">
<h3 id="org88adb74">Example I - Interpolation (scipy.interpolate)</h3>
<p>
There are several general <a href="http://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html">interpolation facilities</a> available in Scipy, for data
in 1, 2, and higher dimension
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">from</span> scipy.interpolate <span style="color: #fff59d;">import</span> interp1d
<span style="color: #ffcc80;">x</span> = np.linspace<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">0</span>, <span style="color: #9ccc65;">10</span>, <span style="color: #9ccc65;">10</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">y</span> = np.cos<span style="color: #e91e63;">(</span>-x**<span style="color: #9ccc65;">2</span> / <span style="color: #9ccc65;">8</span>.<span style="color: #9ccc65;">0</span><span style="color: #e91e63;">)</span>
<span style="color: #ffcc80;">f</span> = interp1d<span style="color: #e91e63;">(</span>x, y, kind=<span style="color: #9ccc65;">'cubic'</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>y<span style="color: #2196F3;">[</span>:<span style="color: #9ccc65;">4</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; [ 1.          0.98811613  0.81545357  0.18090587]
</pre>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>f<span style="color: #2196F3;">(</span>x<span style="color: #2196F3;">)[</span>:<span style="color: #9ccc65;">4</span><span style="color: #2196F3;">]</span><span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
[ 1.          0.98811613  0.81545357  0.18090587]
</pre>
</section>
<section id="slide-org18db34f">
<h3 id="org18db34f">Example II - Statistics (scipy.stats)</h3>
<p>
This <a href="http://docs.scipy.org/doc/scipy/reference/stats.html">module</a> contains a large number of probability distributions as well as a
growing library of statistical functions.  There are several general
</p>

<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">from</span> scipy.stats <span style="color: #fff59d;">import</span> norm

<span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">The probability density function for norm is:</span>
<span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">norm.pdf(x) = exp(-x**2/2)/sqrt(2*pi)</span>

<span style="color: #b0bec5;"># </span><span style="color: #b0bec5;">Calculate a few first moments </span>
<span style="color: #ffcc80;">mean</span>, <span style="color: #ffcc80;">var</span>, <span style="color: #ffcc80;">skew</span>, <span style="color: #ffcc80;">kurt</span> = norm.stats<span style="color: #e91e63;">(</span>moments=<span style="color: #9ccc65;">'mvsk'</span><span style="color: #e91e63;">)</span>
<span style="color: #fff59d;">print</span><span style="color: #e91e63;">(</span>mean, var, skew, kurt<span style="color: #e91e63;">)</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; ... ... &gt;&gt;&gt; ... &gt;&gt;&gt; (array(0.0), array(1.0), array(0.0), array(0.0))
</pre>

</section>
<section id="slide-org9d5b1d1">
<h3 id="org9d5b1d1">Example II - Statistics (scipy.stats)</h3>
<div class="org-src-container">

<pre  class="src src-python"><span style="color: #fff59d;">import</span> numpy <span style="color: #fff59d;">as</span> np
<span style="color: #fff59d;">import</span> matplotlib.pyplot <span style="color: #fff59d;">as</span> plt

<span style="color: #ffcc80;">x</span> = np.linspace<span style="color: #e91e63;">(</span>norm.ppf<span style="color: #2196F3;">(</span><span style="color: #9ccc65;">0</span>.<span style="color: #9ccc65;">01</span><span style="color: #2196F3;">)</span>, norm.ppf<span style="color: #2196F3;">(</span><span style="color: #9ccc65;">0</span>.<span style="color: #9ccc65;">99</span><span style="color: #2196F3;">)</span>, <span style="color: #9ccc65;">100</span><span style="color: #e91e63;">)</span>

plt.plot<span style="color: #e91e63;">(</span>x, norm.pdf<span style="color: #2196F3;">(</span>x<span style="color: #2196F3;">)</span>, <span style="color: #9ccc65;">'r-'</span>, lw=<span style="color: #9ccc65;">2</span><span style="color: #e91e63;">)</span>
plt.savefig<span style="color: #e91e63;">(</span><span style="color: #9ccc65;">'./graphics/norm_pdf.png'</span><span style="color: #e91e63;">)</span>
</pre>
</div>


<div id="orgae22ae5" class="figure">
<p><img src="./graphics/norm_pdf.png" alt="norm_pdf.png" width="50%" />
</p>
</div>
</section>
</section>
<section>
<section id="slide-org8d1ad6c">
<h2 id="org8d1ad6c">Numpy exercise</h2>
<ol>
<li>Show that A * A^-1 = I</li>
<li>Find indices of non-zero elements from [1, 2, 0, 0, 4, 0].</li>
<li>Declare a 3x3 identity matrix.</li>
<li>Create 1000 random values from a normal distribution.</li>
<li>Calculate mean, std, var from a vector of your choice.</li>

</ol>
</section>
</section>
<section>
<section id="slide-org8836aae">
<h2 id="org8836aae">Scipy exercise</h2>
<ol>
<li>Define a function of your choice (e.g. x^2 + 10 * sin(x)) and find the roots
(HINT: <a href="http://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.optimize.root.html">optimize.root</a>)</li>
<li>Calculate the Fourier Transform of the signal = sin(50 * 2 * pi * x) +
sin(80 * 2 * pi * x), with x defined between 0 and N=1200, and a temporal
sampling of T=1.0/1200.0</li>

</ol>
</section>
</section>
</div>
</div>
<script src="../reveal.js/lib/js/head.min.js"></script>
<script src="../reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: false,
center: true,
slideNumber: 't',
rollingLinks: false,
keyboard: true,
overview: true,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none
transitionSpeed: 'default',
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: '../reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: '../reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: '../reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: '../reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: '../reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
